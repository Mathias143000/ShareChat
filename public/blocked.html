<!doctype html>
<html lang="ru" data-theme="dark">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>–î–æ—Å—Ç—É–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω ‚Äî ShareChat</title>
  <link rel="stylesheet" href="/">
  <link rel="preload" href="/public/" as="style" onload="this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="/public/"></noscript>
</head>
<body class="blocked">
  <div class="card blocked-card">
    <div class="emoji">üîí</div>
    <h1>–î–æ—Å—Ç—É–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω</h1>
    <p>–í–∞—à IP –Ω–µ –≤–∫–ª—é—á—ë–Ω –≤ —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–∞. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ IP –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.</p>
    <div class="ip-row">
      <code id="ipVal">‚Äî</code>
      <button id="copyIP" class="btn" type="button">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å IP</button>
    </div>
    <div class="muted">–ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç ‚Äî –¥–æ—Å—Ç—É–ø –æ—Ç–∫—Ä—ã—Ç –¥–ª—è –≤—Å–µ—Ö.</div>
  </div>
<script>
(async ()=>{
  const el=document.getElementById('ipVal');
  try{ const r=await fetch('/api/ip',{cache:'no-store'}); const j=await r.json(); el.textContent=j.ip||'‚Äî'; }catch(_){}
  document.getElementById('copyIP').addEventListener('click', async ()=>{
    const text=el.textContent||'';
    try{
      if(navigator.clipboard && window.isSecureContext){ await navigator.clipboard.writeText(text); }
      else{ const ta=document.createElement('textarea'); ta.value=text; ta.style.cssText='position:fixed;left:-9999px;top:0;opacity:0'; document.body.appendChild(ta); ta.select(); document.execCommand('copy'); ta.remove(); }
      const btn=document.getElementById('copyIP'); const old=btn.textContent; btn.textContent='–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ'; setTimeout(()=>btn.textContent=old,1200);
    }catch(_){}
  });
})();
</script>
</body>
</html>
